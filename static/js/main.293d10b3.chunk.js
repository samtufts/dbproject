/*! For license information please see main.293d10b3.chunk.js.LICENSE.txt */
(this["webpackJsonpsam-db-project"]=this["webpackJsonpsam-db-project"]||[]).push([[0],{127:function(e,t,a){},129:function(e,t,a){},131:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},157:function(t,a,r){"use strict";r.r(a);var n=r(2),c=r(0),s=r.n(c),o=r(11),i=r.n(o),l=(r(127),r(26)),u=r.n(l),d=r(44),j=r(35),b=r(12),h=r(27),p=(r(129),r(71)),O=r(104),f=r(51),m=(r(131),r(217)),g=r(100),x=r.n(g),v=r(99),w=r.n(v),y=r(200),k=r(220),S=r(207),C=r(203),D=r(202),T=r(219),F=r(221),R=r(39),N=r.n(R),E=function(e){var t=e.addRow,a=e.add,r=e.data,o=e.id,i=e.setData,l=e.alertSetter,u=function(){return a?{Class:"",Title:"",Link:"",Notes:""}:{Class:r[o].Class,Title:r[o].Title,Link:r[o].Link,Notes:r[o].Notes,_id:r[o]._id}},d=Object(c.useState)(u()),p=Object(h.a)(d,2),O=p[0],f=p[1],m=s.a.useState(!1),g=Object(h.a)(m,2),v=g[0],R=g[1],E=function(){R(!0)},A=function(){R(!1)},H=function(){f(u())},P=function(e){N.a.post("https://stark-anchorage-94670.herokuapp.com/addData",e).then((function(a){console.log("Add Data:",a.status);var r=a.data.ops[0]._id;e._id=r,t(e)})).catch((function(e){console.log(e),l(!0,"error","Error adding data")}))},I=function(e){return function(t){var a=t.target.value;f(Object(b.a)(Object(b.a)({},O),{},Object(j.a)({},e,a)))}};return Object(n.jsxs)("div",{children:[a?Object(n.jsx)(F.a,{title:"Add",children:Object(n.jsx)(y.a,{className:"addDataForm",onClick:E,variant:"outlined",color:"primary",size:"large",startIcon:Object(n.jsx)(w.a,{fontSize:"large"}),children:"Document"})}):Object(n.jsx)(F.a,{title:"Edit",children:Object(n.jsx)(y.a,{"aria-label":"edit",onClick:E,variant:"outlined",color:"secondary",children:Object(n.jsx)(x.a,{})})}),Object(n.jsxs)(k.a,{open:v,onClose:A,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(D.a,{id:"form-dialog-title",children:a?"Add New Document":"Edit Document"}),Object(n.jsxs)(C.a,{children:[Object(n.jsx)(T.a,{autoFocus:!0,margin:"dense",label:"Class",type:"text",fullWidth:!0,value:O.Class,onChange:I("Class")}),Object(n.jsx)(T.a,{margin:"dense",label:"Title",type:"text",fullWidth:!0,value:O.Title,onChange:I("Title")}),Object(n.jsx)(T.a,{margin:"dense",label:"Notes",type:"text",fullWidth:!0,value:O.Notes,onChange:I("Notes"),multiline:!0}),Object(n.jsx)(T.a,{margin:"dense",label:"Link",type:"text",fullWidth:!0,value:O.Link,onChange:I("Link")})]}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(y.a,{onClick:A,color:"primary",children:"Cancel"}),a?Object(n.jsx)(y.a,{onClick:function(e){A(),P(O),H()},color:"primary",children:"Save"}):Object(n.jsx)(y.a,{onClick:function(e){A(),i((function(e){return e.map((function(t,a){return a===o?Object(b.a)({},e[a]=O):t}))})),N.a.post("https://stark-anchorage-94670.herokuapp.com/updateData",O).then((function(e){console.log("Update Data:",e.status,e),200==e.status?l(!0,"success","Data successfully updated!"):l(!0,"error","Error updating data")})).catch((function(e){console.log(e),l(!0,"error","Error updating data")}))},color:"primary",children:"Update"})]})]})]})},A=r(4),H=r(68),P=r.n(H),I=r(210),L=r(208),W=r(13),_=r(209),M=r(106),B=r(103),U=Object(L.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.primary.main,backgroundColor:Object(W.d)(e.palette.primary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"},search:{position:"absolute",right:"60px"},toolbar:{position:"sticky",top:"0",zIndex:1,width:"100%",height:"50px"}}})),V=function(e){var t=U(),a=e.numSelected,r=e.deleteUserHandler,c=e.selectedRows,s=e.addRow,o=e.rows,i=e.handleFilterChange,l=e.filterInput,u=e.alertSetter;return Object(n.jsxs)(_.a,{className:Object(A.a)(t.root,Object(j.a)({},t.highlight,a>0),t.toolbar),children:[a>0?Object(n.jsxs)(M.a,{className:t.title,color:"inherit",variant:"subtitle1",children:[a," items selected"]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(E,{addRow:s,add:!0,alertSetter:u}),Object(n.jsx)(T.a,{id:"outlined-search",label:"Search ".concat(o.length," records..."),type:"search",variant:"outlined",name:"searchField",className:Object(A.a)(t.search),value:l,onChange:i})]}),a>0?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(F.a,{title:"Delete",children:Object(n.jsx)(I.a,{"aria-label":"delete",onClick:r,children:Object(n.jsx)(P.a,{color:"secondary"})})}),Object(n.jsx)(F.a,{title:"Share",children:Object(n.jsx)(I.a,{"aria-label":"share",children:Object(n.jsx)(B.a,{color:"#3F50B5"})})}),console.log("selectedRows",c)]}):null]})};function z(e){var t=e.columns,a=e.data,r=e.updateMyData,o=e.setData,i=e.setShowAlert,l=e.alertSetter,u=e.addRow,d=s.a.forwardRef((function(e,t){var a=e.indeterminate,r=Object(O.a)(e,["indeterminate"]),c=s.a.useRef(),o=t||c;return s.a.useEffect((function(){o.current.indeterminate=a}),[o,a]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(m.a,Object(b.a)(Object(b.a)({ref:o},r),{},{color:"primary"}))})})),j=Object(c.useState)(""),g=Object(h.a)(j,2),x=g[0],v=g[1],w=Object(f.useTable)({columns:t,data:a,updateMyData:r},f.useFilters,f.useSortBy,f.useRowSelect,(function(e){e.allColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(n.jsx)("div",{maxwidth:"15px",children:Object(n.jsx)(d,Object(b.a)({},t()))})},Cell:function(e){var t=e.row;return Object(n.jsx)("div",{maxwidth:"15px",children:Object(n.jsx)(d,Object(b.a)({},t.getToggleRowSelectedProps()))})}}].concat(Object(p.a)(e))}))})),y=w.getTableProps,k=w.getTableBodyProps,S=w.headerGroups,C=w.rows,D=w.prepareRow,T=w.setFilter,F=w.selectedFlatRows,R=w.state.selectedRowIds;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(V,{numSelected:Object.keys(R).length,deleteUserHandler:function(e){if(window.confirm("Are you sure you wish to delete these items?")){var t=(c=a,s=Object.keys(R).map((function(e){return parseInt(e,10)})),c.filter((function(e,t){return!s.includes(t)})));o(t);var r=[];for(var n in F)r.push(F[n].original._id);console.log("list:",r),N.a.post("https://stark-anchorage-94670.herokuapp.com/deleteMany",r).then((function(e){200==e.status?(console.log("success deleting many"),i({show:!0,type:"success",message:"Success deleting items!"})):i({show:!0,type:"error",message:"Error deleting items!"})}))}var c,s},selectedRows:F,addRow:u,rows:C,filterInput:x,handleFilterChange:function(e){var t=e.target.value||void 0;T("Title",t),v(t)},alertSetter:l}),Object(n.jsxs)("table",Object(b.a)(Object(b.a)({},y()),{},{children:[Object(n.jsx)("thead",{children:S.map((function(e){return Object(n.jsx)("tr",Object(b.a)(Object(b.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(n.jsxs)("th",Object(b.a)(Object(b.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{className:e.isSorted?e.isSortedDesc?"sort-desc":"sort-asc":"",children:[e.render("Header"),Object(n.jsx)("div",{children:e.canFilter?e.render("Filter"):null})]}))}))}))}))}),Object(n.jsx)("tbody",Object(b.a)(Object(b.a)({},k()),{},{children:C.map((function(e,t){return D(e),Object(n.jsx)("tr",Object(b.a)(Object(b.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(n.jsx)("td",Object(b.a)(Object(b.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))]})}var J=r(216),q=(r(153),function(e){var t=e.state;e.setter;return!0===t.show?Object(n.jsx)("div",{children:Object(n.jsx)(J.a,{className:"alert",severity:t.type,variant:"filled",children:t.message})}):Object(n.jsx)(n.Fragment,{})}),G=(r(154),r(215)),K=r(222),Q=r(206),X=Object(L.a)((function(e){return{formControl:{margin:e.spacing(1),display:"flex"},selectEmpty:{marginTop:e.spacing(2)},Select:{maxwidth:20}}}));var Y=function(e){var t=e.column,a=t.filterValue,r=t.setFilter,c=t.preFilteredRows,o=t.id,i=X(),l=s.a.useMemo((function(){var e=new Set;return c.forEach((function(t){e.add(t.values[o])})),Object(p.a)(e.values())}),[o,c]);return Object(n.jsx)(Q.a,{className:i.formControl,children:Object(n.jsxs)(G.a,{className:i.Select,value:a,defaultValue:"undefined",onChange:function(e){r(e.target.value||void 0)},children:[Object(n.jsx)(K.a,{defaultValue:"",children:"All"}),l.map((function(e,t){return Object(n.jsx)(K.a,{value:e,children:e},t)}))]})})},Z=r(102),$=r.n(Z);r(155);var ee=function(e){var t=e.value,a=e.removeRow,r=e.addRow,c=e.data,s=e.id,o=e.setData,i=e.alertSetter;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"actions",children:[Object(n.jsx)(E,{add:!1,addRow:r,data:c,id:s,setData:o,alertSetter:i}),Object(n.jsx)(F.a,{title:"Delete",children:Object(n.jsx)(y.a,{value:t,onClick:a,variant:"outlined",color:"primary",children:Object(n.jsx)(P.a,{})})})]})})},te=r(69),ae=r(14),re=r(223),ne=r(212),ce=(r(213),r(214)),se=r(101),oe=r.n(se),ie=r(211);function le(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://stark-anchorage-94670.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=Object(L.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function je(e){var t=e.setToken,a=e.alertSetter,r=Object(c.useState)(),s=Object(h.a)(r,2),o=s[0],i=s[1],l=Object(c.useState)(),j=Object(h.a)(l,2),b=j[0],p=j[1],O=function(){var e=Object(d.a)(u.a.mark((function e(r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,le({username:o,password:b});case 3:"validToken"==(n=e.sent).token?(a(!0,"success","Welcome!"),console.log("token: ",n),t(n)):a(!0,"error","Error logging in");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=de();return Object(n.jsxs)(ie.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(ne.a,{}),Object(n.jsxs)("div",{className:f.paper,children:[Object(n.jsx)(re.a,{className:f.avatar,children:Object(n.jsx)(oe.a,{})}),Object(n.jsx)(M.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsxs)("form",{className:f.form,noValidate:!0,onSubmit:O,children:[Object(n.jsx)(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){return i(e.target.value)}}),Object(n.jsx)(T.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return p(e.target.value)}}),Object(n.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:f.submit,children:"Sign In"})]})]}),Object(n.jsx)(ce.a,{mt:8})]})}var be=function(){var t=Object(c.useState)([]),a=Object(h.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(),i=Object(h.a)(o,2),l=i[0],p=i[1],O=Object(c.useState)({show:!1,type:"",message:""}),f=Object(h.a)(O,2),m=f[0],g=f[1];function x(e,t,a){g({show:e,type:t,message:a})}function v(e){if(e.preventDefault(),window.confirm("Are you sure you wish to delete this?")){if(e.currentTarget.value){var t="_id="+e.currentTarget.value;N.a.post("https://stark-anchorage-94670.herokuapp.com/deleteData",t).then((function(e){200==e.status?(x(!0,"success","Success deleting item!"),console.log("Remove Data: ",e.status)):x(!0,"error","Error deleting item!")}))}var a=r.filter((function(t){return t._id!=e.currentTarget.value}));s(a)}}function w(e){s((function(t){return t.concat(e)})),x(!0,"success","Success adding row!")}Object(c.useEffect)((function(){if(1==m.show){var e=setTimeout((function(){x(!1)}),2e3);return function(){clearTimeout(e)}}}));var k=Object(c.useMemo)((function(){return[{Header:"",accessor:"Class",Filter:Y,filter:"includes"},{Header:"Title",accessor:"Title",Filter:"",filter:"includes"},{Header:"Notes",accessor:"Notes",Filter:"",filter:"includes"},{Header:"Link",accessor:"Link",Cell:function(e){var t=e.cell.value;return Object(n.jsx)(y.a,{href:t,target:"_blank",variant:"outlined",color:"primary",children:Object(n.jsx)($.a,{})})},Filter:"",filter:"includes"},{Header:"Actions",accessor:"_id",Cell:function(e){var t=e.cell,a=t.value,c=t.row;return Object(n.jsx)(ee,{value:a,removeRow:v,addRow:w,data:r,id:c.index,setData:s,alertSetter:x})},Filter:"",filter:"excludes"}]}),[r]);return Object(c.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1,t="",t="https://stark-anchorage-94670.herokuapp.com/getData",N.a.get(t).then((function(e){s(e.data),console.log(r)}));case 4:case"end":return e.stop()}}),e)})))()}),[]),l?Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(q,{state:m,setter:x}),Object(n.jsx)(z,{columns:k,data:r,updateMyData:function(t,a,r){e.preventDefault(),s((function(e){return e.map((function(n,c){return c===t?Object(b.a)(Object(b.a)({},e[t]),{},Object(j.a)({},a,r)):n}))}))},setData:s,setShowAlert:g,addRow:w,alertSetter:x}),Object(n.jsx)(te.a,{children:Object(n.jsxs)(ae.c,{children:[Object(n.jsx)(ae.a,{path:"/login",children:Object(n.jsx)(je,{})}),Object(n.jsx)(ae.a,{path:"/logout",children:Object(n.jsx)(je,{})})]})})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(q,{state:m,setter:x}),Object(n.jsx)(je,{setToken:p,alertSetter:x})]})};r(70);i.a.render(Object(n.jsx)(te.a,{children:Object(n.jsx)(be,{})}),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.293d10b3.chunk.js.map