(this["webpackJsonpsam-db-project"]=this["webpackJsonpsam-db-project"]||[]).push([[0],{120:function(e,t,a){},122:function(e,t,a){},124:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),c=a.n(r),i=a(10),s=a.n(i),l=(a(120),a(40)),o=a.n(l),u=a(61),d=a(32),j=a(11),b=a(30),h=(a(122),a(69)),f=(a(99),a(47),a(124),a(207),a(96)),p=a.n(f),O=a(95),x=a.n(O),g=a(193),m=a(210),v=a(200),C=a(196),k=a(195),y=a(209),w=a(211),D=a(35),S=a.n(D),N=function(e){var t=e.addRow,a=e.add,i=e.data,s=e.id,l=e.setData,o=e.alertSetter,u=Object(r.useState)(a?{Class:"",Title:"",Link:"",Categories:"",Notes:""}:{Class:i[s].Class,Title:i[s].Title,Link:i[s].Link,Categories:i[s].Categories,Notes:i[s].Notes,_id:i[s]._id}),h=Object(b.a)(u,2),f=h[0],O=h[1],D=c.a.useState(!1),N=Object(b.a)(D,2),T=N[0],F=N[1],E=function(){F(!0)},L=function(){F(!1)},R=function(e){S.a.post("https://stark-anchorage-94670.herokuapp.com/addData",e).then((function(a){console.log("Add Data:",a.status);var n=a.data.ops[0]._id;e._id=n,t(e)})).catch((function(e){console.log(e),o(!0,"error","Error adding data")}))},A=function(e){return function(t){var a=t.target.value;O(Object(j.a)(Object(j.a)({},f),{},Object(d.a)({},e,a)))}};return Object(n.jsxs)("div",{children:[a?Object(n.jsx)(w.a,{title:"Add",children:Object(n.jsx)(g.a,{className:"addDataForm",onClick:E,variant:"outlined",color:"primary",size:"large",startIcon:Object(n.jsx)(x.a,{fontSize:"large"}),children:"Document"})}):Object(n.jsx)(w.a,{title:"Edit",children:Object(n.jsx)(g.a,{"aria-label":"edit",onClick:E,variant:"outlined",color:"secondary",children:Object(n.jsx)(p.a,{})})}),Object(n.jsxs)(m.a,{open:T,onClose:L,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(k.a,{id:"form-dialog-title",children:a?"Add New Document":"Edit Document"}),Object(n.jsxs)(C.a,{children:[Object(n.jsx)(y.a,{autoFocus:!0,margin:"dense",label:"Class",type:"text",fullWidth:!0,value:f.Class,onChange:A("Class")}),Object(n.jsx)(y.a,{margin:"dense",label:"Title",type:"text",fullWidth:!0,value:f.Title,onChange:A("Title")}),Object(n.jsx)(y.a,{margin:"dense",label:"Notes",type:"text",fullWidth:!0,value:f.Notes,onChange:A("Notes"),multiline:!0}),Object(n.jsx)(y.a,{margin:"dense",label:"Link",type:"text",fullWidth:!0,value:f.Link,onChange:A("Link")}),Object(n.jsx)(y.a,{margin:"dense",label:"Categories",type:"text",fullWidth:!0,value:f.Categories,onChange:A("Categories")})]}),Object(n.jsxs)(v.a,{children:[Object(n.jsx)(g.a,{onClick:L,color:"primary",children:"Cancel"}),a?Object(n.jsx)(g.a,{onClick:function(e){L(),R(f)},color:"primary",children:"Save"}):Object(n.jsx)(g.a,{onClick:function(e){L(),l((function(e){return e.map((function(t,a){return a===s?Object(j.a)({},e[a]=f):t}))})),S.a.post("https://stark-anchorage-94670.herokuapp.com/updateData",f).then((function(e){console.log("Update Data:",e.status,e),200==e.status?o(!0,"success","Data successfully updated!"):o(!0,"error","Error updating data")})).catch((function(e){console.log(e),o(!0,"error","Error updating data")}))},color:"primary",children:"Save"})]})]})]})},T=(a(4),a(67)),F=a.n(T),E=(a(203),a(201)),L=a(13);a(202),a(101),a(98),Object(E.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.primary.main,backgroundColor:Object(L.d)(e.palette.primary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"},search:{position:"absolute",right:"0px"}}}));var R=function(e){var t=e.values;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("span",{className:t?"badge":"",children:t})})},A=(a(206),a(204),a(146),a(147),a(205)),_=a(212),H=a(199),W=Object(E.a)((function(e){return{formControl:{margin:e.spacing(1),display:"flex"},selectEmpty:{marginTop:e.spacing(2)},Select:{maxwidth:20}}}));var I=function(e){var t=e.column,a=t.filterValue,r=t.setFilter,i=t.preFilteredRows,s=t.id,l=W(),o=c.a.useMemo((function(){var e=new Set;return i.forEach((function(t){e.add(t.values[s])})),Object(h.a)(e.values())}),[s,i]);return Object(n.jsx)(H.a,{className:l.formControl,children:Object(n.jsxs)(A.a,{className:l.Select,value:a,defaultValue:"undefined",onChange:function(e){r(e.target.value||void 0)},children:[Object(n.jsx)(_.a,{defaultValue:"",children:"All"}),o.map((function(e,t){return Object(n.jsx)(_.a,{value:e,children:e},t)}))]})})},V=a(97),z=a.n(V);a(148);var J=function(e){var t=e.value,a=e.removeRow,r=e.addRow,c=e.data,i=e.id,s=e.setData,l=e.alertSetter;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"actions",children:[Object(n.jsx)(N,{add:!1,addRow:r,data:c,id:i,setData:s,alertSetter:l}),Object(n.jsx)(w.a,{title:"Delete",children:Object(n.jsx)(g.a,{value:t,onClick:a,variant:"outlined",color:"primary",children:Object(n.jsx)(F.a,{})})})]})})},M=a(14);a(68);var P=a(53);a(150);function U(){return Object(n.jsxs)("div",{className:"login-wrapper",children:[Object(n.jsx)("h1",{children:"Please Log In"}),Object(n.jsxs)("form",{children:[Object(n.jsxs)("label",{children:[Object(n.jsx)("p",{children:"Username"}),Object(n.jsx)("input",{type:"text"})]}),Object(n.jsxs)("label",{children:[Object(n.jsx)("p",{children:"Password"}),Object(n.jsx)("input",{type:"password"})]}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{type:"submit",children:"Submit"})})]})]})}var B=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)({show:!1,type:"",message:""}),s=Object(b.a)(i,2),l=s[0],d=s[1];function j(e,t,a){d({show:e,type:t,message:a})}function h(e){if(e.preventDefault(),window.confirm("Are you sure you wish to delete this?")){if(e.currentTarget.value){var t="_id="+e.currentTarget.value;S.a.post("https://stark-anchorage-94670.herokuapp.com/deleteData",t).then((function(e){200==e.status?(j(!0,"success","Success deleting item!"),console.log("Remove Data: ",e.status)):j(!0,"error","Error deleting item!")}))}var n=a.filter((function(t){return t._id!=e.currentTarget.value}));c(n)}}function f(e){c((function(t){return t.concat(e)})),j(!0,"success","Success adding row!")}Object(r.useEffect)((function(){if(1==l.show){var e=setTimeout((function(){j(!1)}),2e3);return function(){clearTimeout(e)}}})),Object(r.useMemo)((function(){return[{Header:" ",columns:[{Header:"",accessor:"Class",Filter:I,filter:"includes"},{Header:"Title",accessor:"Title",Filter:"",filter:"includes"},{Header:"Notes",accessor:"Notes",Filter:"",filter:"includes"},{Header:"Link",accessor:"Link",Cell:function(e){var t=e.cell.value;return Object(n.jsx)(g.a,{href:t,target:"_blank",variant:"outlined",color:"primary",children:Object(n.jsx)(z.a,{})})},Filter:"",filter:"includes"},{Header:"",accessor:"Categories",Cell:function(e){var t=e.cell.value;return Object(n.jsx)(R,{values:t})},Filter:I,filter:"includes"},{Header:"Actions",accessor:"_id",Cell:function(e){var t=e.cell,r=t.value,i=t.row;return Object(n.jsx)(J,{value:r,removeRow:h,addRow:f,data:a,id:i.index,setData:c,alertSetter:j})},Filter:"",filter:"excludes"}]}]}),[a]),Object(r.useEffect)((function(){Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S()("https://stark-anchorage-94670.herokuapp.com/getData");case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})))()}),[]);var p=Object(r.useState)(),O=Object(b.a)(p,2),x=O[0],m=O[1];return x?Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("h1",{children:"Application"}),Object(n.jsx)(P.a,{children:Object(n.jsxs)(M.c,{children:[Object(n.jsx)(M.a,{path:"/login",children:Object(n.jsx)(U,{})}),Object(n.jsx)(M.a,{path:"/logout",children:Object(n.jsx)(U,{})})]})})]}):Object(n.jsx)(U,{setToken:m})};s.a.render(Object(n.jsx)(P.a,{children:Object(n.jsx)(B,{})}),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.6b4835cc.chunk.js.map