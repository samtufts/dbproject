(this["webpackJsonpsam-db-project"]=this["webpackJsonpsam-db-project"]||[]).push([[0],{120:function(e,t,a){},122:function(e,t,a){},124:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),c=a.n(r),s=a(10),i=a.n(s),o=(a(120),a(25)),l=a.n(o),u=a(41),d=a(33),j=a(11),b=a(26),p=(a(122),a(69)),h=(a(99),a(48),a(124),a(207),a(96)),f=a.n(h),O=a(95),g=a.n(O),x=a(193),m=a(210),v=a(200),C=a(196),k=a(195),y=a(209),w=a(211),S=a(36),D=a.n(S),T=function(e){var t=e.addRow,a=e.add,s=e.data,i=e.id,o=e.setData,l=e.alertSetter,u=Object(r.useState)(a?{Class:"",Title:"",Link:"",Categories:"",Notes:""}:{Class:s[i].Class,Title:s[i].Title,Link:s[i].Link,Categories:s[i].Categories,Notes:s[i].Notes,_id:s[i]._id}),p=Object(b.a)(u,2),h=p[0],O=p[1],S=c.a.useState(!1),T=Object(b.a)(S,2),N=T[0],F=T[1],E=function(){F(!0)},L=function(){F(!1)},R=function(e){D.a.post("https://stark-anchorage-94670.herokuapp.com/addData",e).then((function(a){console.log("Add Data:",a.status);var n=a.data.ops[0]._id;e._id=n,t(e)})).catch((function(e){console.log(e),l(!0,"error","Error adding data")}))},A=function(e){return function(t){var a=t.target.value;O(Object(j.a)(Object(j.a)({},h),{},Object(d.a)({},e,a)))}};return Object(n.jsxs)("div",{children:[a?Object(n.jsx)(w.a,{title:"Add",children:Object(n.jsx)(x.a,{className:"addDataForm",onClick:E,variant:"outlined",color:"primary",size:"large",startIcon:Object(n.jsx)(g.a,{fontSize:"large"}),children:"Document"})}):Object(n.jsx)(w.a,{title:"Edit",children:Object(n.jsx)(x.a,{"aria-label":"edit",onClick:E,variant:"outlined",color:"secondary",children:Object(n.jsx)(f.a,{})})}),Object(n.jsxs)(m.a,{open:N,onClose:L,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(k.a,{id:"form-dialog-title",children:a?"Add New Document":"Edit Document"}),Object(n.jsxs)(C.a,{children:[Object(n.jsx)(y.a,{autoFocus:!0,margin:"dense",label:"Class",type:"text",fullWidth:!0,value:h.Class,onChange:A("Class")}),Object(n.jsx)(y.a,{margin:"dense",label:"Title",type:"text",fullWidth:!0,value:h.Title,onChange:A("Title")}),Object(n.jsx)(y.a,{margin:"dense",label:"Notes",type:"text",fullWidth:!0,value:h.Notes,onChange:A("Notes"),multiline:!0}),Object(n.jsx)(y.a,{margin:"dense",label:"Link",type:"text",fullWidth:!0,value:h.Link,onChange:A("Link")}),Object(n.jsx)(y.a,{margin:"dense",label:"Categories",type:"text",fullWidth:!0,value:h.Categories,onChange:A("Categories")})]}),Object(n.jsxs)(v.a,{children:[Object(n.jsx)(x.a,{onClick:L,color:"primary",children:"Cancel"}),a?Object(n.jsx)(x.a,{onClick:function(e){L(),R(h)},color:"primary",children:"Save"}):Object(n.jsx)(x.a,{onClick:function(e){L(),o((function(e){return e.map((function(t,a){return a===i?Object(j.a)({},e[a]=h):t}))})),D.a.post("https://stark-anchorage-94670.herokuapp.com/updateData",h).then((function(e){console.log("Update Data:",e.status,e),200==e.status?l(!0,"success","Data successfully updated!"):l(!0,"error","Error updating data")})).catch((function(e){console.log(e),l(!0,"error","Error updating data")}))},color:"primary",children:"Save"})]})]})]})},N=(a(4),a(67)),F=a.n(N),E=(a(203),a(201)),L=a(13);a(202),a(101),a(98),Object(E.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.primary.main,backgroundColor:Object(L.d)(e.palette.primary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"},search:{position:"absolute",right:"0px"}}}));var R=function(e){var t=e.values;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("span",{className:t?"badge":"",children:t})})},A=(a(206),a(204),a(146),a(147),a(205)),_=a(212),H=a(199),W=Object(E.a)((function(e){return{formControl:{margin:e.spacing(1),display:"flex"},selectEmpty:{marginTop:e.spacing(2)},Select:{maxwidth:20}}}));var I=function(e){var t=e.column,a=t.filterValue,r=t.setFilter,s=t.preFilteredRows,i=t.id,o=W(),l=c.a.useMemo((function(){var e=new Set;return s.forEach((function(t){e.add(t.values[i])})),Object(p.a)(e.values())}),[i,s]);return Object(n.jsx)(H.a,{className:o.formControl,children:Object(n.jsxs)(A.a,{className:o.Select,value:a,defaultValue:"undefined",onChange:function(e){r(e.target.value||void 0)},children:[Object(n.jsx)(_.a,{defaultValue:"",children:"All"}),l.map((function(e,t){return Object(n.jsx)(_.a,{value:e,children:e},t)}))]})})},J=a(97),P=a.n(J);a(148);var V=function(e){var t=e.value,a=e.removeRow,r=e.addRow,c=e.data,s=e.id,i=e.setData,o=e.alertSetter;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"actions",children:[Object(n.jsx)(T,{add:!1,addRow:r,data:c,id:s,setData:i,alertSetter:o}),Object(n.jsx)(w.a,{title:"Delete",children:Object(n.jsx)(x.a,{value:t,onClick:a,variant:"outlined",color:"primary",children:Object(n.jsx)(F.a,{})})})]})})},z=a(14);a(68);var M=a(54);a(150);function U(e){return B.apply(this,arguments)}function B(){return(B=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://stark-anchorage-94670.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){var t=e.setToken,a=Object(r.useState)(),c=Object(b.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(),d=Object(b.a)(o,2),j=d[0],p=d[1],h=function(){var e=Object(u.a)(l.a.mark((function e(a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,U({username:s,password:j});case 3:n=e.sent,t(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"login-wrapper",children:[Object(n.jsx)("h1",{children:"Please Log In"}),Object(n.jsxs)("form",{onSubmit:h,children:[Object(n.jsxs)("label",{children:[Object(n.jsx)("p",{children:"Username"}),Object(n.jsx)("input",{type:"text",onChange:function(e){return i(e.target.value)}})]}),Object(n.jsxs)("label",{children:[Object(n.jsx)("p",{children:"Password"}),Object(n.jsx)("input",{type:"password",onChange:function(e){return p(e.target.value)}})]}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{type:"submit",children:"Submit"})})]})]})}var G=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)({show:!1,type:"",message:""}),i=Object(b.a)(s,2),o=i[0],d=i[1];function j(e,t,a){d({show:e,type:t,message:a})}function p(e){if(e.preventDefault(),window.confirm("Are you sure you wish to delete this?")){if(e.currentTarget.value){var t="_id="+e.currentTarget.value;D.a.post("https://stark-anchorage-94670.herokuapp.com/deleteData",t).then((function(e){200==e.status?(j(!0,"success","Success deleting item!"),console.log("Remove Data: ",e.status)):j(!0,"error","Error deleting item!")}))}var n=a.filter((function(t){return t._id!=e.currentTarget.value}));c(n)}}function h(e){c((function(t){return t.concat(e)})),j(!0,"success","Success adding row!")}Object(r.useEffect)((function(){if(1==o.show){var e=setTimeout((function(){j(!1)}),2e3);return function(){clearTimeout(e)}}})),Object(r.useMemo)((function(){return[{Header:" ",columns:[{Header:"",accessor:"Class",Filter:I,filter:"includes"},{Header:"Title",accessor:"Title",Filter:"",filter:"includes"},{Header:"Notes",accessor:"Notes",Filter:"",filter:"includes"},{Header:"Link",accessor:"Link",Cell:function(e){var t=e.cell.value;return Object(n.jsx)(x.a,{href:t,target:"_blank",variant:"outlined",color:"primary",children:Object(n.jsx)(P.a,{})})},Filter:"",filter:"includes"},{Header:"",accessor:"Categories",Cell:function(e){var t=e.cell.value;return Object(n.jsx)(R,{values:t})},Filter:I,filter:"includes"},{Header:"Actions",accessor:"_id",Cell:function(e){var t=e.cell,r=t.value,s=t.row;return Object(n.jsx)(V,{value:r,removeRow:p,addRow:h,data:a,id:s.index,setData:c,alertSetter:j})},Filter:"",filter:"excludes"}]}]}),[a]),Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D()("https://stark-anchorage-94670.herokuapp.com/getData");case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})))()}),[]);var f=Object(r.useState)(),O=Object(b.a)(f,2),g=O[0],m=O[1];return g?Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("h1",{children:"Application"}),Object(n.jsx)(M.a,{children:Object(n.jsxs)(z.c,{children:[Object(n.jsx)(z.a,{path:"/login",children:Object(n.jsx)(q,{})}),Object(n.jsx)(z.a,{path:"/logout",children:Object(n.jsx)(q,{})})]})})]}):Object(n.jsx)(q,{setToken:m})};i.a.render(Object(n.jsx)(M.a,{children:Object(n.jsx)(G,{})}),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.5a17de8d.chunk.js.map